SEGMENT DATA
ADDRESS 0x40000

_Segment:
D 0

_State:
D 0

_Token:
BZ 256

_Character:
B 0

SEGMENT CODE
ADDRESS 0x10000

NextCompilerSourceCodeAddress 0x1000000
NextCompilerByteCodeAddress 0x2000000

Start:
PUSHDL StateMachineLoop
JUMP

StateMachineLoop:

PUSHDL State0
PUSHDL 0
PUSHDL _State
PUSHD
BEQ


PUSHDL State1
PUSHDL 1
PUSHDL _State
PUSHD
BEQ

PUSHDL State2
PUSHDL 2
PUSHDL _State
PUSHD
BEQ

State0:
PUSHDL 1
PUSHDL _State
POPD
PUSHDL StateMachineLoop
JUMP
